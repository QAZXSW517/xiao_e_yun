{"version":3,"sources":["webpack://test/./ts/core/index.ts","webpack://test/webpack/bootstrap","webpack://test/webpack/runtime/define property getters","webpack://test/webpack/runtime/hasOwnProperty shorthand","webpack://test/webpack/runtime/make namespace object","webpack://test/./ts/main.ts"],"names":[],"mappings":"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","file":"../resources/js/main.js","sourcesContent":["export  default class{\r\n    public constructor(){\r\n    }\r\n    public DOM_ready(fun:()=>void){\r\n        document.addEventListener('DOMContentLoaded',fun,{once:true})\r\n    }\r\n\r\n    public background(low_quality_url:string, high_quality_url:string){\r\n        const info = this.info+\"背景加載器|\"\r\n        console.log(info+\"開始運行\")\r\n        const img = new Image()\r\n        const pre_background = document.getElementById('preload_background')\r\n        const main_background = document.getElementById('main_background')\r\n\r\n        const start_time = Date.now()\r\n        image_load(pre_background,low_quality_url,()=>{\r\n            console.log(info+\"加載成功低畫質背景\")\r\n            image_load(main_background,high_quality_url,()=>{\r\n                const done_time = Date.now()\r\n                console.log(info+\"加載成功高畫質背景\")\r\n                if((done_time - start_time)<= 50){\r\n                    pre_background.style.display = \"none\"\r\n                }else{\r\n                    this.fade_out(pre_background,()=>{},1200)\r\n                }\r\n            })\r\n        })\r\n        \r\n        function image_load(el:HTMLElement,url:string,done:()=>void) {\r\n            img.src = url\r\n            img.addEventListener('load', () => {\r\n                el.style.backgroundImage = `url(${url})`\r\n                done()\r\n            },{once:true})\r\n        }\r\n    }\r\n\r\n    public fade_in(el:HTMLElement,done?:()=>void,time:number=400){\r\n        const info = this.info+\"淡入|\"\r\n        console.log(info+time+\"ms\")\r\n\r\n        const opacity = Number(getComputedStyle(el).opacity) as unknown as number\r\n\r\n        if(el.style.display === \"none\"){\r\n            el.style.display = \"block\"\r\n        }\r\n        \r\n        const run_time = 10 //間隔 10ms\r\n        const total_i = Math.floor(time / run_time) //總運行次數\r\n        let i = total_i //運行次數\r\n\r\n        const interval = setInterval(run,run_time)\r\n        run()\r\n\r\n        function run() { \r\n            i--\r\n\r\n            const fade_opacity = ( ( 1 - opacity ) / total_i * (total_i - i)) + opacity;\r\n            (el.style.opacity as unknown as number) = fade_opacity\r\n            \r\n            if(i === 0){\r\n                clearInterval(interval)\r\n                if(done){done()}\r\n            }\r\n        }\r\n    }\r\n\r\n    public fade_out(el:HTMLElement,done?:()=>void,time:number=400){\r\n        const info = this.info+\"淡出|\"\r\n        console.log(info+time+\"ms\")\r\n\r\n        const opacity = Number(getComputedStyle(el).opacity) as unknown as number\r\n\r\n        const run_time = 10 //間隔 100ms\r\n        const total_i = Math.floor(time / run_time) //總運行次數\r\n        let i = total_i //運行次數\r\n\r\n        const interval = setInterval(run,run_time)\r\n        run()\r\n\r\n        function run() { \r\n            i--\r\n            \r\n            const fade_opacity = opacity / total_i * i;\r\n            (el.style.opacity as unknown as number) = fade_opacity\r\n            \r\n            if(i === 0){\r\n                clearInterval(interval)\r\n                el.style.display = \"none\"\r\n                if(done){done()}\r\n            }\r\n        }\r\n    }\r\n    private __viewer = {}\r\n    public viewer(key?:string,val?:string,done?:()=>void){\r\n        if(key===undefined){ //&&val===undefined\r\n            return this.__viewer\r\n        }else if(val===undefined){\r\n            return this.__viewer[key]\r\n        }else{\r\n            if(val !== this.__viewer[key]){\r\n                try{\r\n                    const $this = this\r\n                    const el = document.getElementById(\"$\"+key)\r\n                    if(el.style.display === \"none\"||el.style.opacity === \"0\"||$this.__viewer[key] === \"\"||$this.__viewer[key] === undefined){\r\n                        run()\r\n                    }else{\r\n                        $this.fade_out(el,run)\r\n                    }\r\n                    function run(){\r\n                        el.innerHTML = val\r\n                        $this.fade_in(el)\r\n                        if(done){done()}\r\n                    }\r\n                }catch(e){\r\n                    const info = this.info+\"viewer|\"\r\n                    console.warn(info+\"未找到id:\"+key,e)\r\n                }\r\n            }\r\n            return this.__viewer[key] = val\r\n        }\r\n    }\r\n\r\n    private info = \"|主要核心|\"\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import main_core from './core'\r\nconst main = new main_core()\r\nmain.DOM_ready(() => {\r\n    const image_file = \"resources/images/background\"\r\n    main.background(`${image_file}_blur.webp`, `${image_file}.webp`)\r\n\r\n    function your_name() {\r\n        const name = sessionStorage.getItem(\"your_name\")\r\n        return name === \"\" ? \"陌生人\" : name || \"陌生人\"\r\n    }\r\n\r\n    main.viewer(\"your_name\", `歡迎回來！${your_name()}！`)\r\n    const el_hello_time = document.getElementById(\"hello_time\")\r\n\r\n    hello_time()\r\n    setInterval(hello_time, 300000)\r\n    function hello_time() {\r\n        const $your_name = your_name()\r\n        const hr = new Date().getHours()\r\n        let text = \"\"\r\n        switch (hr) {\r\n            case 23:\r\n            case 0:\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n                text = `${$your_name}還沒睡麻，${$your_name}可不要一直熬夜喔~`\r\n                break;\r\n            case 4:\r\n            case 5:\r\n            case 6:\r\n            case 7:\r\n            case 8:\r\n            case 9:\r\n                text = `${$your_name}早安喵~`\r\n                break;\r\n            case 10:\r\n            case 11:\r\n                text = `${$your_name}午安~快要到中午惹~`\r\n                break;\r\n            case 12:\r\n                text = `${$your_name}~今天的午餐真好吃呢~`\r\n                break;\r\n            case 13:\r\n            case 14:\r\n            case 15:\r\n                text = `${$your_name}午安~想要躺在${$your_name}的懷裡~`\r\n            case 16:\r\n            case 17:\r\n            case 18:\r\n            case 19:\r\n            case 20:\r\n                text = `${$your_name}晚上好呀~`\r\n                break;\r\n            case 21:\r\n            case 22:\r\n                text = `${$your_name}記得可要早點睡喔~`\r\n                break;\r\n        }\r\n        main.viewer(\"hello_time\", text, ()=>{\r\n            el_hello_time.classList.remove(\"have_input\")\r\n        })\r\n    }\r\n\r\n    let mode = 0\r\n\r\n    document.body.addEventListener(\"click\", (e) => {\r\n        mode = 0\r\n        const $your_name = your_name()\r\n        main.viewer(\"your_name\", `歡迎回來！${$your_name}！`)\r\n        hello_time()\r\n    }, false)\r\n    document.getElementById(\"title\").addEventListener(\"click\", (e) => {\r\n        e.stopPropagation()\r\n        if (mode === 2) { return }\r\n        mode = 1\r\n        main.viewer(\"your_name\", \"想要怎麼叫你呢~\")\r\n        main.viewer(\"hello_time\", \"<input id='input_your_name'>\", () => {\r\n            const input = document.getElementById(\"input_your_name\") as HTMLInputElement\r\n            input.value = sessionStorage.getItem(\"your_name\") || \"\"\r\n            el_hello_time.classList.add(\"have_input\")\r\n        })\r\n    }, false)\r\n    el_hello_time.addEventListener(\"click\", (e) => {\r\n        e.stopPropagation()\r\n        if (mode === 1) { return }\r\n        mode = 2\r\n        main.viewer(\"your_name\", `${your_name()}要找什麼東西嗎~`)\r\n        main.viewer(\"hello_time\", \"<input id='search' class='inline' minlength='1' maxlength='32'><button id='search_btn'>尋找</button>\", () => {\r\n            const input = document.getElementById(\"search\") as HTMLInputElement\r\n            input.value = sessionStorage.getItem(\"last_search\") || \"\"\r\n            el_hello_time.classList.add(\"have_input\")\r\n        })\r\n    }, false)\r\n    el_hello_time.addEventListener(\"input\", (e) => {\r\n        //input向上冒泡\r\n        const target = e.target as HTMLInputElement\r\n        const value = target.value\r\n        const $switch = {\r\n            \"input_your_name\": \"your_name\",\r\n            \"search\": \"last_search\"\r\n        }\r\n        sessionStorage.setItem($switch[target.id], value)\r\n    }, false)\r\n    el_hello_time.addEventListener('keypress', function (e) {\r\n        const target = e.target as HTMLInputElement\r\n        search(target.value, (e.key === 'Enter' && target.id === \"search\"))\r\n    }, false)\r\n    el_hello_time.addEventListener('click', function (e) {\r\n        const target = e.target as HTMLButtonElement\r\n        const is_true = target.id === \"search_btn\"\r\n        if (is_true) {\r\n            const value = (document.getElementById(\"search\") as HTMLInputElement).value\r\n            search(value, is_true)\r\n        }\r\n    }, false)\r\n\r\n    function search(value: string, $if: boolean) {\r\n        if ($if && value.length > 0 && value.length <= 32) {\r\n            sessionStorage.removeItem(\"last_search\")\r\n            location.href = `https://www.google.com/search?q=${encodeURIComponent(value)}`\r\n        }\r\n    }\r\n})"],"sourceRoot":""}