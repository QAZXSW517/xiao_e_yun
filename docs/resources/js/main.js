(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const o="resources/images/background";(new class{constructor(){this.info="|主要核心|"}background(o,e){const t=this.info+"背景加載器|";console.log(t+"開始運行");const n=new Image,c=document.getElementById("preload_background"),s=document.getElementById("main_background"),a=Date.now();function l(e,t,c){n.src=o,n.addEventListener("load",(()=>{c(),e.style.backgroundImage=`url(${t})`}),{once:!0})}l(c,o,(()=>{console.log(t+"加載成功低畫質背景"),l(s,e,(()=>{const o=Date.now();console.log(t+"加載成功高畫質背景"),o-a<=50?c.remove():this.fade_out(c,(()=>{c.remove()}),1200)}))}))}fade_out(o,e,t=400){const n=this.info+"淡出|";console.log(n+t+"ms");const c=getComputedStyle(o).opacity,s=Math.floor(t/10);let a=s;const l=setInterval(r,10);function r(){o.style.opacity=c/s*a,a--,0===a&&(clearInterval(l),e())}r()}}).background(`${o}_blur.webp`,`${o}.webp`)}),{once:!0})})();
//# sourceMappingURL=main.js.map